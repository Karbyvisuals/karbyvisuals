<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>27sun ‚Äì Video editor & photographer</title>
<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:Inter,Arial,sans-serif;background:#0a0a0a;color:#f2f2f2;overflow-x:hidden;line-height:1.5}

body::before{
  content:"";
  position:fixed;
  inset:0;
  background: 
    radial-gradient(circle at calc(5% + (var(--scroll, 0) * 0.9%)) calc(5% + (var(--scroll, 0) * 0.7%)), rgba(255,122,24,0.15), transparent 60%),
    linear-gradient(to bottom, rgba(10,10,10,.85), rgba(10,10,10,.95)),
    repeating-linear-gradient(to right, rgba(255,255,255,.02) 0, rgba(255,255,255,.02) 1px, transparent 1px, transparent 140px);
  z-index:-1;
  pointer-events: none;
  transform: translateZ(0);
}

section{padding:80px 6%; position: relative;}
h2{font-size:clamp(24px, 5vw, 32px);font-weight:500;margin-bottom:15px;letter-spacing:1px}
h3{opacity:.7;margin-bottom:10px;font-weight:500}
.top-bar{position:fixed;top:0;width:100%;height:80px;background:rgba(10,10,10,.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:1000;border-bottom:1px solid rgba(255,255,255,0.05)}
.top-bar img{height:55px;width:auto;border-radius:10px}
.lang-switch{position:absolute;right:15px}.lang-switch button{background:none;border:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.5);padding:5px 12px;margin-left:4px;border-radius:999px;cursor:pointer;font-size:12px;transition:.3s;font-weight:600}
.lang-switch button.active{background:#ff7a18;color:#000;border-color:#ff7a18}

.hero{min-height:90vh;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:40px;padding-top:120px}
.logo{font-family:'UnifrakturCook',cursive;font-size:clamp(60px, 12vw, 96px);line-height:1;text-align:center}
.btn{display:inline-block;margin-top:30px;padding:14px 35px;border-radius:999px;background:#ff7a18;color:#000!important;text-decoration:none;font-weight:600;transition:.2s; border:none; cursor:pointer;}

/* SLOT MACHINE STYLES */
.game-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; z-index: 2000; backdrop-filter: blur(15px); }
.game-content { background: #111; border: 1px solid #ff7a18; padding: 40px; border-radius: 30px; width: 90%; max-width: 450px; text-align: center; position: relative; }
.slot-machine { display: flex; justify-content: center; gap: 10px; margin: 25px 0; background: #000; padding: 15px; border-radius: 20px; border: 4px double #ff7a18; box-shadow: 0 0 20px rgba(255,122,24,0.2); }
.reel { width: 80px; height: 100px; background: #111; border-radius: 10px; overflow: hidden; position: relative; border: 1px solid rgba(255,255,255,0.1); }
.reel-container { display: flex; flex-direction: column; position: absolute; width: 100%; top: 0; }
.symbol { height: 100px; display: flex; align-items: center; justify-content: center; font-size: 35px; }
.symbol img { width: 40px; height: 40px; object-fit: contain; border-radius: 5px; }
#spin-btn:disabled { background: #333; cursor: not-allowed; color: #666!important; }
.promo-wrap { background: #1a1a1a; border: 1px dashed #ff7a18; padding: 10px; border-radius: 10px; margin-top: 15px; display: flex; justify-content: space-between; align-items: center; }

/* Ostatn√≠ styly pro slidery a chat nechan√© p≈Øvodn√≠ pro funkƒçnost zbytku webu */
.video-slider,.gallery-wrapper{display:flex;gap:15px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:15px;scrollbar-width:none;}
.gallery-wrapper img{height:400px;border-radius:15px;object-fit:contain}
.pricing{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.card{padding:30px;border-radius:20px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,0.1);}
</style>
</head>
<body>

<div class="top-bar">
  <img src="logo.PNG" alt="Logo">
  <div class="lang-switch">
    <button id="btn-cs" class="active" onclick="setLang('cs')">CZ</button>
    <button id="btn-en" onclick="setLang('en')">EN</button>
  </div>
</div>

<section class="hero">
  <div class="hero-text">
    <div class="logo">27sun</div>
    <p>Video editor & photographer</p>
    <a href="javascript:void(0)" onclick="openGame()" class="btn">üé∞ Zkus ≈°tƒõst√≠ o slevu</a>
  </div>
</section>

<div id="game-modal" class="game-overlay">
  <div class="game-content">
    <button onclick="closeGame()" style="position:absolute;top:15px;right:20px;background:none;border:none;color:#fff;font-size:30px;cursor:pointer;opacity:0.5;">&times;</button>
    <h2 style="font-family:'UnifrakturCook',cursive; color:#ff7a18; font-size: 32px;">27sun Slots</h2>
    <p id="spins-left" style="font-size: 14px; margin-top: 5px;">Dne≈°n√≠ pokusy: 3/3</p>

    <div class="slot-machine">
      <div class="reel"><div id="reel1" class="reel-container"></div></div>
      <div class="reel"><div id="reel2" class="reel-container"></div></div>
      <div class="reel"><div id="reel3" class="reel-container"></div></div>
    </div>

    <button id="spin-btn" class="btn" onclick="spinSlots()" style="width: 100%; margin-top: 0;">ZATOƒåIT</button>
    <p id="limit-msg" style="color:#ff4a4a; font-size:12px; margin-top:10px; display:none;">Dnes u≈æ m√°≈° vybr√°no. Zkus to zase z√≠tra!</p>

    <div id="reward-display" style="display:none; animation: popIn 0.3s ease-out;">
        <h3 style="color:#4caf50; margin-top: 20px;">V√ùHRA!</h3>
        <div id="reward-amount" style="font-size:32px; font-weight:800; color:#ff7a18;"></div>
        <div class="promo-wrap">
            <span id="promo-code" style="font-family:monospace; font-weight:bold;"></span>
            <button onclick="copyPromo()" id="copy-btn" style="background:#ff7a18; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; font-size:12px; font-weight:bold;">COPY</button>
        </div>
    </div>
  </div>
</div>

<script>
const symbols = ['üì∑', 'üé•', 'üé¨', 'üì∏', 'üéûÔ∏è', 'logo']; 
const rewards = [10, 15, 20, 25, 30, 40, 50, 100];
const maxSpins = 3;

function initReels() {
    [1,2,3].forEach(i => {
        const reel = document.getElementById('reel'+i);
        reel.innerHTML = '';
        // Vygenerov√°n√≠ 30 symbol≈Ø pro efekt toƒçen√≠
        for(let s=0; s<30; s++) {
            const div = document.createElement('div');
            div.className = 'symbol';
            const sym = symbols[Math.floor(Math.random()*symbols.length)];
            if(sym === 'logo') div.innerHTML = '<img src="logo.PNG">';
            else div.innerHTML = sym;
            reel.appendChild(div);
        }
    });
    checkLimit();
}

function checkLimit() {
    const today = new Date().toDateString();
    let stats = JSON.parse(localStorage.getItem('slotStats') || '{"date":"","count":0}');
    
    if (stats.date !== today) {
        stats = {date: today, count: 0};
        localStorage.setItem('slotStats', JSON.stringify(stats));
    }
    
    const remaining = maxSpins - stats.count;
    document.getElementById('spins-left').innerText = `Dne≈°n√≠ pokusy: ${remaining}/${maxSpins}`;
    
    if (remaining <= 0) {
        document.getElementById('spin-btn').disabled = true;
        document.getElementById('limit-msg').style.display = 'block';
    }
    return stats.count;
}

function spinSlots() {
    const stats = JSON.parse(localStorage.getItem('slotStats'));
    if (stats.count >= maxSpins) return;

    // Update limitu hned po kliknut√≠
    stats.count++;
    localStorage.setItem('slotStats', JSON.stringify(stats));
    checkLimit();

    const btn = document.getElementById('spin-btn');
    btn.disabled = true;
    document.getElementById('reward-display').style.display = 'none';

    // V√Ωpoƒçet v√Ωhry (Gacha ≈°ance)
    let win;
    const rng = Math.random() * 100;
    if (rng < 3) win = 100;        // 3% ≈°ance na 100%
    else if (rng < 10) win = 50;   // 7% ≈°ance na 50%
    else if (rng < 25) win = 40;   // 15% ≈°ance na 40%
    else if (rng < 50) win = 25;   // 25% ≈°ance na 25%
    else win = rewards[Math.floor(Math.random() * 3)]; // Zbytek 10-20%

    // Spu≈°tƒõn√≠ animace v√°lc≈Ø
    [1,2,3].forEach((i, idx) => {
        const reel = document.getElementById('reel'+i);
        reel.style.transition = 'none';
        reel.style.transform = 'translateY(0)';
        
        // Mal√Ω trik pro restart animace
        void reel.offsetWidth;
        
        const targetY = 25 * 100; // Posun o 25 symbol≈Ø
        reel.style.transition = `transform ${2 + idx}s cubic-bezier(0.45, 0.05, 0.55, 0.95)`;
        reel.style.transform = `translateY(-${targetY}px)`;
        
        // Nastaven√≠ posledn√≠ho symbolu podle v√Ωhry na konci animace
        const lastSymbol = reel.children[25];
        if (win >= 50) lastSymbol.innerHTML = '<img src="logo.PNG">';
        else lastSymbol.innerHTML = symbols[idx % symbols.length];
    });

    setTimeout(() => {
        document.getElementById('reward-amount').innerText = `Sleva ${win}%`;
        document.getElementById('promo-code').innerText = `27SUN-${win}-WIN`;
        document.getElementById('reward-display').style.display = 'block';
        if(stats.count < maxSpins) btn.disabled = false;
    }, 4500);
}

function copyPromo() {
    const code = document.getElementById('promo-code').innerText;
    navigator.clipboard.writeText(code);
    document.getElementById('copy-btn').innerText = 'OK!';
    setTimeout(() => document.getElementById('copy-btn').innerText = 'COPY', 2000);
}

function openGame() { document.getElementById('game-modal').style.display = 'flex'; initReels(); }
function closeGame() { document.getElementById('game-modal').style.display = 'none'; }
function setLang(l) { 
    document.querySelectorAll('.lang-switch button').forEach(b => b.classList.remove('active'));
    document.getElementById('btn-'+l).classList.add('active');
}

document.addEventListener('DOMContentLoaded', initReels);
</script>
</body>
</html>
